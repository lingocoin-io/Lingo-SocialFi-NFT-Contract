<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/LingoNFT.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> LingoNFT.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/49</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/70</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/21</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/60</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;
&nbsp;
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/utils/cryptography/EIP712.sol";
import "@openzeppelin/contracts/utils/cryptography/ECDSA.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/security/ReentrancyGuard.sol";
&nbsp;
/// @title LingoNFT: An NFT Contract for Lingo SocialFi Campaign
/// @notice This contract allows for the minting and management of various NFT tiers.
/// @dev Inherits ERC721 for NFT functionality, Ownable for access control, and ReentrancyGuard for security.
contract LingoNFT is ERC721, EIP712, Ownable, ReentrancyGuard {
    using ECDSA for bytes32;
&nbsp;
    /// @notice Start time for NFT sale
    uint256 public saleStartTime = 0;
&nbsp;
    /// @notice Address authorized to sign minting transactions
    address public mintSigner;
&nbsp;
    /// @notice Mint price for First Class NFTs
    uint256 public firstClassMintPrice;
&nbsp;
    /// @notice Maximum supply of First Class NFTs
    uint256 public maxFirstClassSupply;
&nbsp;
    /// @dev Counter for tracking the number of First Class NFTs minted
    uint256 private firstClassSupplyCounter;
&nbsp;
    /// @dev Counter for total minted tokens
    uint256 private _tokenIdCounter;
&nbsp;
    /// @notice Enumeration for NFT tiers
    enum Tier {
        ECONOMY_CLASS,
        BUSINESS_CLASS,
        FIRST_CLASS,
        PRIVATE_JET
    }
&nbsp;
    /// @dev Mapping to store Tier for each token ID
    mapping(uint256 =&gt; Tier) private _tokenTier;
&nbsp;
    /// @dev Mapping to store URI for each NFT tier
    mapping(Tier =&gt; string) private _tierURIs;
&nbsp;
    /// @notice Struct for Mint data
    struct MintData {
        address sender;
        Tier tier;
    }
&nbsp;
    /// @dev Tracks whether an address has minted for a specific tier
    mapping(address =&gt; mapping(Tier =&gt; bool)) private _hasMinted;
&nbsp;
    /// @dev Ensures actions are only taken if the sale has started
<span class="fstat-no" title="function not covered" >    modifier isActive() {</span>
<span class="cstat-no" title="statement not covered" >        require(</span>
            saleStartTime != 0 &amp;&amp; block.timestamp &gt;= saleStartTime,
            "Minting not allowed"
        );
        _;
    }
&nbsp;
    /// @notice Initializes contract with URIs for each NFT tier
<span class="fstat-no" title="function not covered" >    constructor() ERC721("Lingo NFT", "LING") EIP712("Lingo NFT", "1") {</span>
       
    }
&nbsp;
    /// @notice Sets the mint price for First Class NFTs
    /// @param _price New mint price
<span class="fstat-no" title="function not covered" >    function setFirstClassMintPrice(uint256 _price) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        require(_price &gt; 0, "Price must be greater than zero")</span>;
        firstClassMintPrice = _price;
    }
&nbsp;
    /// @notice Sets the maximum supply for First Class NFTs
    /// @param _maxSupply New maximum supply
<span class="fstat-no" title="function not covered" >    function setMaxFirstClassSupply(uint256 _maxSupply) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        require(_maxSupply &gt; 0, "Max supply must be greater than zero")</span>;
        maxFirstClassSupply = _maxSupply;
    }
&nbsp;
    /// @notice Assigns the signer
    /// @param _signer The address of signer
<span class="fstat-no" title="function not covered" >    function setMintSigner(address _signer) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        require(_signer != address(0), "Signer address cannot be zero")</span>;
        mintSigner = _signer;
    }
&nbsp;
    /// @notice Sets the URI for a specific NFT tier
    /// @param tier The NFT tier
    /// @param uri The new URI
<span class="fstat-no" title="function not covered" >    function setTierURI(Tier tier, string calldata uri) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        require(bytes(uri).length &gt; 0, "URI cannot be empty")</span>;
        _tierURIs[tier] = uri;
    }
&nbsp;
    /// @notice Sets the start time for the NFT sale
    /// @param _startDate The start time as a UNIX timestamp
<span class="fstat-no" title="function not covered" >    function setSaleStartTime(uint256 _startDate) external onlyOwner {</span>
        saleStartTime = _startDate;
    }
&nbsp;
    /// @notice Retrieves the URI for a given NFT tier
    /// @dev Returns a string representing the IPFS URI for the tier's metadata
    /// @param tier The tier of the NFT for which to retrieve the URI
    /// @return The URI string for the specified tier
<span class="fstat-no" title="function not covered" >    function getTierURI(Tier tier) public view returns (string memory) {</span>
<span class="cstat-no" title="statement not covered" >        return _tierURIs[tier];</span>
    }
&nbsp;
    /// @notice Allows the minting of NFTs for the Economy and Business classes
    /// @dev Requires allowlist verification through a signer and that the sale is active
    /// @param tier The tier of the NFT to mint (must be Economy or Business)
    /// @param r The r component of the signature
    /// @param s The s component of the signature
    /// @param v The recovery byte of the signature
<span class="fstat-no" title="function not covered" >    function mintEconomyBusinessClassNFT(</span>
        Tier tier,
        bytes32 r,
        bytes32 s,
        uint8 v
    ) external nonReentrant isActive {
<span class="cstat-no" title="statement not covered" >        require(</span>
            tier == Tier.ECONOMY_CLASS || tier == Tier.BUSINESS_CLASS,
            "Incorrect Tier"
        );
<span class="cstat-no" title="statement not covered" >        require(</span>
            !_hasMinted[msg.sender][tier],
            "Address already minted this tier"
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        MintData memory data = MintData({sender: msg.sender, tier: tier});</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        bytes32 structHash = keccak256(</span>
            abi.encode(
                keccak256("MintData(address sender,uint8 tier)"),
                data.sender,
                data.tier
            )
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        bytes32 messageHash = ECDSA.toTypedDataHash(</span>
            _domainSeparatorV4(),
            structHash
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        require(</span>
            ECDSA.recover(messageHash, v, r, s) == mintSigner,
            "Unauthorized Signer"
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        uint256 tokenId = getNextTokenId();</span>
        // Mint NFT to the sender
<span class="cstat-no" title="statement not covered" >        _mint(msg.sender, tokenId, tier)</span>;
    }
&nbsp;
    /// @notice Allows the minting of First Class NFTs
    /// @dev Requires payment equal to the mint price and that the sale is active
    /// @param tier The tier of the NFT to mint (must be First Class)
    /// @param r The r component of the signature
    /// @param s The s component of the signature
    /// @param v The recovery byte of the signature
<span class="fstat-no" title="function not covered" >    function mintFirstClassNFT(</span>
        Tier tier,
        bytes32 r,
        bytes32 s,
        uint8 v
    ) external payable nonReentrant isActive {
<span class="cstat-no" title="statement not covered" >        require(</span>
            tier == Tier.FIRST_CLASS,
            "This function is only for FIRST_CLASS tier"
        );
<span class="cstat-no" title="statement not covered" >        require(msg.value == firstClassMintPrice, "Ether sent is not correct")</span>;
<span class="cstat-no" title="statement not covered" >        require(</span>
            !_hasMinted[msg.sender][Tier.FIRST_CLASS],
            "Address already minted First"
        );
<span class="cstat-no" title="statement not covered" >        require(</span>
            firstClassSupplyCounter &lt; maxFirstClassSupply,
            "Maximum supply reached"
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        MintData memory data = MintData({sender: msg.sender, tier: tier});</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        bytes32 structHash = keccak256(</span>
            abi.encode(
                keccak256("MintData(address sender,uint8 tier)"),
                data.sender,
                data.tier
            )
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        bytes32 messageHash = ECDSA.toTypedDataHash(</span>
            _domainSeparatorV4(),
            structHash
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        require(</span>
            ECDSA.recover(messageHash, v, r, s) == mintSigner,
            "Unauthorized Signer"
        );
&nbsp;
<span class="cstat-no" title="statement not covered" >        uint256 tokenId = getNextTokenId();</span>
<span class="cstat-no" title="statement not covered" >        _mint(msg.sender, tokenId, tier)</span>;
    }
&nbsp;
    /// @notice Allows the contract owner to mint and airdrop Private Jet NFTs to specified addresses
    /// @param recipients The addresses to receive the airdropped NFTs
<span class="fstat-no" title="function not covered" >    function mintPrivateJetNFT(</span>
        address[] calldata recipients
    ) external nonReentrant onlyOwner {
<span class="cstat-no" title="statement not covered" >        uint256 tokenId;</span>
<span class="cstat-no" title="statement not covered" >        for (uint256 i = 0; i &lt; recipients.length; i++) {</span>
            tokenId = getNextTokenId();
<span class="cstat-no" title="statement not covered" >            _mint(</span>
                recipients[i],
                tokenId,
                Tier.PRIVATE_JET
            );
        }
    }
&nbsp;
    /// @notice Airdrops NFTs of a specified tier to multiple addresses
    /// @param recipients The addresses to receive the NFTs
    /// @param tier The tier of NFTs to airdrop
<span class="fstat-no" title="function not covered" >    function airdropNFT(</span>
        address[] calldata recipients,
        Tier tier
    ) external nonReentrant onlyOwner {
<span class="cstat-no" title="statement not covered" >        require(tier != Tier.PRIVATE_JET, "Incorrect Tier")</span>;
<span class="cstat-no" title="statement not covered" >        for (uint256 i = 0; i &lt; recipients.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            uint256 tokenId = getNextTokenId();</span>
<span class="cstat-no" title="statement not covered" >            _mint(recipients[i], tokenId, tier)</span>;
        }
    }
&nbsp;
    /// @dev Gets the next available token ID based on the current counter
    /// @return The next token ID to be minted
<span class="fstat-no" title="function not covered" >    function getNextTokenId() private view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        uint256 tokenId = _tokenIdCounter;</span>
<span class="cstat-no" title="statement not covered" >        return tokenId;</span>
    }
&nbsp;
    /// @notice Retrieves the total number of First Class NFTs minted
    /// @return The total number of First Class NFTs minted
<span class="fstat-no" title="function not covered" >    function getFirstClassSupply() public view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return firstClassSupplyCounter;</span>
    }
&nbsp;
    /// @notice Retrieves the sale start time
    /// @return The UNIX timestamp for when the sale starts
<span class="fstat-no" title="function not covered" >    function getSaleStartTime() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return saleStartTime;</span>
    }
&nbsp;
    /// @notice Retrieves the current total supply of minted tokens
    /// @return The total number of tokens minted
<span class="fstat-no" title="function not covered" >    function getTotalSupply() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return _tokenIdCounter;</span>
    }
&nbsp;
    /// @notice Retrieves the token URI for a given token ID
    /// @dev Overrides ERC721's tokenURI to incorporate base URI with token-specific URIs
    /// @param tokenId The ID of the token to retrieve the URI for
    /// @return The full URI string for the specified token
<span class="fstat-no" title="function not covered" >    function tokenURI(</span>
        uint256 tokenId
    ) public view override returns (string memory) {
<span class="cstat-no" title="statement not covered" >        require(_exists(tokenId), "Token does not exist")</span>;
        // Combine the base URI and token-specific URI to get the full metadata URI
<span class="cstat-no" title="statement not covered" >        Tier tier = _tokenTier[tokenId];</span>
<span class="cstat-no" title="statement not covered" >        return _tierURIs[tier];</span>
    }
&nbsp;
    /// @notice Mints a new token of a specified tier to a given address with a specified URI
    /// @dev Internal function that handles the logic for minting new tokens
    /// @param to The address to mint the token to
    /// @param tokenId The token ID for the new token
    /// @param tier The tier of the new token
<span class="fstat-no" title="function not covered" >    function _mint(</span>
        address to,
        uint256 tokenId,
        Tier tier
    ) internal {
<span class="cstat-no" title="statement not covered" >        require(!_exists(tokenId), "Token ID already exists")</span>;
<span class="cstat-no" title="statement not covered" >        require(to != address(0), "Cannot mint to the zero address")</span>;
        _hasMinted[msg.sender][tier] = true;
        _tokenIdCounter = _tokenIdCounter + 1;
        _tokenTier[tokenId] = tier;
<span class="cstat-no" title="statement not covered" >        _safeMint(to, tokenId)</span>;
<span class="cstat-no" title="statement not covered" >        if (tier == Tier.FIRST_CLASS) {</span>
            firstClassSupplyCounter += 1;
        }
    }
&nbsp;
    /// @notice Gets the current block timestamp
    /// @return The current block's timestamp
<span class="fstat-no" title="function not covered" >    function getCurrentTimestamp() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return block.timestamp;</span>
    }
&nbsp;
    /// @notice Checks if an account has already minted a specific tier of NFT
    /// @param account The address to check
    /// @param tier The tier to check for
    /// @return true if the account has already minted an NFT of the specified tier
<span class="fstat-no" title="function not covered" >    function hasMinted(</span>
        address account,
        Tier tier
    ) external view returns (bool) {
<span class="cstat-no" title="statement not covered" >        return _hasMinted[account][tier];</span>
    }
&nbsp;
    /// @notice Withdraws contract balance to the owner's address
    /// @dev Only callable by the contract owner
<span class="fstat-no" title="function not covered" >    function withdraw() external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        uint256 balance = address(this).balance;</span>
<span class="cstat-no" title="statement not covered" >        require(balance &gt; 0, "No funds left to withdraw")</span>;
        // Transfer funds to the owner's address
<span class="cstat-no" title="statement not covered" >        (bool sent, ) = owner().call{value: balance}("");</span>
<span class="cstat-no" title="statement not covered" >        require(sent, "Transfer failed.")</span>;
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Mar 14 2024 09:30:01 GMT+0100 (Central European Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
