<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/nft.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> nft.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/50</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">6.76% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>5/74</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">25% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>6/24</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">13.43% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>9/67</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;
&nbsp;
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/security/ReentrancyGuard.sol";
import "@openzeppelin/contracts/utils/math/SafeMath.sol";
import "@openzeppelin/contracts/utils/cryptography/ECDSA.sol";
&nbsp;
&nbsp;
&nbsp;
//Economy Class URI : ipfs://
//Business Class URI : ipfs://
//First Class URI : ipfs://QmTn6hxErt5x95Qn1os9X6eFm9jCpUBACM2u5BZtJ6fwvk
//PrivateJet URI : ipfs://
&nbsp;
contract LingoNFT is ERC721, Ownable, ReentrancyGuard {
    // Minting window
    uint256 public saleStartTime = 0;
    address public economySigner;
    address public businessSigner;
    address public firstSigner;
    uint256 public firstClassMintPrice; // Set a price for First Class NFTs
    uint256 public maxFirstClassSupply;
    uint256 private firstClassSupplyCounter;
&nbsp;
    // Counter for total minted tokens
    uint256 private _tokenIdCounter;
&nbsp;
    // Mapping to store CID for each token
    mapping(uint256 =&gt; string) private _tokenURIs;
    mapping(Tier =&gt; string) private _tierURIs;
&nbsp;
    // Enumeration for NFT tiers
    enum Tier {
        ECONOMY_CLASS,
        BUSINESS_CLASS,
        FIRST_CLASS,
        PRIVATE_JET
    }
    // Add a new mapping to track whether a user has minted for their assigned tier
    mapping(address =&gt; mapping(Tier =&gt; bool)) private _hasMinted;
&nbsp;
<span class="fstat-no" title="function not covered" >   modifier isActive() {</span>
<span class="cstat-no" title="statement not covered" >    require(saleStartTime != 0 &amp;&amp; block.timestamp &gt;= saleStartTime, "Minting not allowed outside the campaign window")</span>;
    _;
    }
    // Constructor
    constructor() ERC721("Lingo NFT", "LING") {
        _tierURIs[Tier.ECONOMY_CLASS] = "ipfs://economyClassURI";
        _tierURIs[Tier.BUSINESS_CLASS] = "ipfs://businessClassURI";
        _tierURIs[Tier.FIRST_CLASS] = "ipfs://firstClassURI";
        _tierURIs[Tier.PRIVATE_JET] = "ipfs://privateJetURI";
    }
    //function to set the minting price for First Class NFTs
    function setFirstClassMintPrice(uint256 _price) external <span class="missing-if-branch" title="else path not taken" >E</span>onlyOwner {
        firstClassMintPrice = _price;
    }
    //function to set the max supply for First Class NFTs
<span class="fstat-no" title="function not covered" >    function setMaxFirstClassSupply(uint256 _maxSupply) external onlyOwner {</span>
        maxFirstClassSupply = _maxSupply;
    }
    //Function to set Economy Class signer
    function setEconomySigner(address _economySigner) external <span class="missing-if-branch" title="else path not taken" >E</span>onlyOwner {
        economySigner = _economySigner;
    }
    //Function to set Business Class signer
    function setBusinessSigner(address _businessSigner) external <span class="missing-if-branch" title="else path not taken" >E</span>onlyOwner {
        businessSigner = _businessSigner;
    }
    function setFirstSigner(address _firstSigner) external <span class="missing-if-branch" title="else path not taken" >E</span>onlyOwner {
        firstSigner = _firstSigner;
    }
<span class="fstat-no" title="function not covered" >    function setTierURI(Tier tier, string calldata uri) external onlyOwner {</span>
    _tierURIs[tier] = uri;
   }
<span class="fstat-no" title="function not covered" >   function getTierURI(Tier tier) public view returns (string memory) {</span>
<span class="cstat-no" title="statement not covered" >    return _tierURIs[tier];</span>
    }
<span class="fstat-no" title="function not covered" >    function getSignerByTier(Tier tier) internal view returns(address)  {</span>
<span class="cstat-no" title="statement not covered" >        if(tier == Tier.ECONOMY_CLASS){</span>
<span class="cstat-no" title="statement not covered" >            return economySigner;</span>
        }
<span class="cstat-no" title="statement not covered" >        if(tier == Tier.BUSINESS_CLASS){</span>
<span class="cstat-no" title="statement not covered" >            return businessSigner;</span>
        }
<span class="cstat-no" title="statement not covered" >        if(tier == Tier.FIRST_CLASS){</span>
<span class="cstat-no" title="statement not covered" >            return firstSigner;</span>
        }
<span class="cstat-no" title="statement not covered" >        return address(0);</span>
    }
    // Function to mint NFTs for Economy, and Business (require being allowlisted) (can only be called during the minting window)
<span class="fstat-no" title="function not covered" >    function mintEconomyBusinessClassNFT(Tier tier, bytes32 r, bytes32 s, uint8 v) external nonReentrant isActive {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        require(tier == Tier.ECONOMY_CLASS || tier == Tier.BUSINESS_CLASS, "Incorrect Tier")</span>;
<span class="cstat-no" title="statement not covered" >        require( !_hasMinted[msg.sender][tier], "Address already minted this tier")</span>;
<span class="cstat-no" title="statement not covered" >        require( getSignerByTier(tier) != address(0), "Invalid Signer")</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        bytes32 messageHash = keccak256(abi.encodePacked(msg.sender, tier));</span>
<span class="cstat-no" title="statement not covered" >        bytes32 prefixedMessageHash = keccak256(abi.encodePacked("\x19Ethereum Signed Message:\n32", messageHash));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        require( ecrecover(prefixedMessageHash, v, r, s) == getSignerByTier(tier), "Unauthorized Signer")</span>;
        // You might want to still check if the signer is correct, but for demonstration,
        // we're emitting the event regardless of the check's outcome.
<span class="cstat-no" title="statement not covered" >        uint256 tokenId = getNextTokenId();</span>
        // Mint NFT to the sender
<span class="cstat-no" title="statement not covered" >        _mint(msg.sender, tokenId, _tierURIs[tier], tier)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >   function mintFirstClassNFT(Tier tier, bytes32 r, bytes32 s, uint8 v) external payable nonReentrant isActive {</span>
    
<span class="cstat-no" title="statement not covered" >        require(tier == Tier.FIRST_CLASS, "This function is only for FIRST_CLASS tier")</span>;
<span class="cstat-no" title="statement not covered" >        require(msg.value &gt;= firstClassMintPrice, "Ether sent is not correct")</span>;
<span class="cstat-no" title="statement not covered" >        require(!_hasMinted[msg.sender][Tier.FIRST_CLASS], "Address already minted First")</span>;
<span class="cstat-no" title="statement not covered" >        require( getSignerByTier(tier) != address(0), "Invalid Signer")</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        bytes32 messageHash = keccak256(abi.encodePacked(msg.sender, tier));</span>
<span class="cstat-no" title="statement not covered" >        bytes32 prefixedMessageHash = keccak256(abi.encodePacked("\x19Ethereum Signed Message:\n32", messageHash));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        require( ecrecover(prefixedMessageHash, v, r, s) == getSignerByTier(tier), "Unauthorized Signer")</span>;
        
<span class="cstat-no" title="statement not covered" >        uint256 tokenId = getNextTokenId();</span>
<span class="cstat-no" title="statement not covered" >        _mint(msg.sender, tokenId, _tierURIs[tier], tier)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function mintPrivateJetNFT(address[] calldata recipients) external nonReentrant onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        uint256 tokenId;</span>
        
        // Airdrop NFTs to the specified addresses
<span class="cstat-no" title="statement not covered" >        for (uint256 i = 0; i &lt; recipients.length; i++) {</span>
            tokenId = getNextTokenId();
<span class="cstat-no" title="statement not covered" >            _mint(recipients[i], tokenId, _tierURIs[Tier.PRIVATE_JET], Tier.PRIVATE_JET)</span>;
        }
    }
   // Fonction améliorée pour airdrop des NFTs à une liste de destinataires pour un tier spécifié
<span class="fstat-no" title="function not covered" >    function airdropNFT(address[] calldata recipients, Tier tier) external nonReentrant onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        require(tier != Tier.PRIVATE_JET, "Incorrect Tier")</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        for (uint256 i = 0; i &lt; recipients.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            uint256 tokenId = getNextTokenId();</span>
<span class="cstat-no" title="statement not covered" >            _mint(recipients[i], tokenId, _tierURIs[tier], tier)</span>;
        }
    }   
    // Function to get the next available token ID
<span class="fstat-no" title="function not covered" >    function getNextTokenId() private view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        uint256 tokenId = _tokenIdCounter;</span>
<span class="cstat-no" title="statement not covered" >        return tokenId;</span>
    }
<span class="fstat-no" title="function not covered" >    function getFirstClassSupply() public view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return firstClassSupplyCounter;</span>
    }
    // Function to set the start minting date
    function setSaleStartTime(uint256 _startDate) external <span class="missing-if-branch" title="else path not taken" >E</span>onlyOwner {
        //require(_startDate &gt; block.timestamp,"Invalid Start Date");
        saleStartTime = _startDate;
    }
 
    // Function to get the start minting date
<span class="fstat-no" title="function not covered" >    function getSaleStartTime() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return saleStartTime;</span>
    }
    // Function to get the current total supply
<span class="fstat-no" title="function not covered" >    function getTotalSupply() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return _tokenIdCounter;</span>
    }
<span class="fstat-no" title="function not covered" >    function tokenURI(uint256 tokenId) public view override returns (string memory) {</span>
<span class="cstat-no" title="statement not covered" >        require(_exists(tokenId), "Token does not exist")</span>;
        // Combine the base URI and token-specific CID to get the full metadata URI
<span class="cstat-no" title="statement not covered" >       return _tokenURIs[tokenId];  </span>
    }
   // Override _mint function to include CID and tier
<span class="fstat-no" title="function not covered" >    function _mint(address to, uint256 tokenId, string memory cid, Tier tier) internal {</span>
<span class="cstat-no" title="statement not covered" >        require(!_exists(tokenId), "Token ID already exists")</span>;
<span class="cstat-no" title="statement not covered" >        require(to != address(0), "Cannot mint to the zero address")</span>;
        
        _hasMinted[msg.sender][tier] = true;
        _tokenIdCounter = _tokenIdCounter + 1;
        _tokenURIs[tokenId] = cid;
<span class="cstat-no" title="statement not covered" >        _mint(to, tokenId)</span>;
<span class="cstat-no" title="statement not covered" >        if (tier == Tier.FIRST_CLASS) {</span>
            firstClassSupplyCounter += 1;
        }
    }
    // Function to check the current timestamp
<span class="fstat-no" title="function not covered" >    function getCurrentTimestamp() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        return block.timestamp;</span>
    }
<span class="fstat-no" title="function not covered" >    function hasMinted(address account, Tier tier) external view returns (bool) {</span>
<span class="cstat-no" title="statement not covered" >        return _hasMinted[account][tier];</span>
    }
    // Function to withdraw Ether from the contract
<span class="fstat-no" title="function not covered" >    function withdraw() external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        uint256 balance = address(this).balance;</span>
<span class="cstat-no" title="statement not covered" >        require(balance &gt; 0, "No Ether left to withdraw")</span>;
&nbsp;
        // Transfer Ether to the owner's address
<span class="cstat-no" title="statement not covered" >        (bool sent, ) = owner().call{value: balance}("");</span>
<span class="cstat-no" title="statement not covered" >        require(sent, "Transfer failed.")</span>;  
    }
    receive() external payable {}
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Feb 08 2024 09:49:44 GMT+0100 (Central European Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
